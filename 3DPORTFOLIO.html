<!DOCTYPE html>
<html>
  <head>
    <title>Interactive Portfolio - Virtual Room</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>

    <script>
      AFRAME.registerComponent('link-handler', {
        schema: {url: {type: 'string'}},
        init: function () {
          var data = this.data;
          var el = this.el;

          // 1. Animation on Hover (Mouse Enter)
          el.addEventListener('mouseenter', function () {
            el.setAttribute('scale', '1.1 1.1 1.1'); // Make it slightly bigger
            el.setAttribute('color', '#FF5733'); // Change color to show it's active
          });

          // 2. Animation on Leave (Mouse Leave)
          el.addEventListener('mouseleave', function () {
            el.setAttribute('scale', '1 1 1'); // Return to normal size
            el.setAttribute('color', '#fff');  // Return to normal color
          });

          // 3. Action on Click
          el.addEventListener('click', function () {
            // Check if we are in VR or Desktop
            window.open(data.url, '_blank');
          });
        }
      });
    </script>
    
    <style>
        #overlay {
            position: absolute;
            z-index: 1;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            font-family: 'Arial', sans-serif;
            border-radius: 8px;
            pointer-events: none; /* Let clicks pass through to the 3D world */
        }
        h1 { margin: 0; font-size: 20px; color: #00ffff; }
        p { margin: 5px 0 0; font-size: 14px; }
    </style>
  </head>
  <body>
    
    <div id="overlay">
        <h1>PROJECT: VIRTUAL WORKSPACE</h1>
        <p>Use <b>W, A, S, D</b> to Walk</p>
        <p><b>Drag Mouse</b> to Look</p>
        <p><b>Click the Monitor</b> to view Resume</p>
    </div>

    <a-scene cursor="rayOrigin: mouse"> 
      <a-assets>
        <img id="floor-texture" src="https://cdn.aframe.io/a-painter/images/floor.jpg">
      </a-assets>

      <a-sky color="#1a1a1a"></a-sky> <a-plane position="0 0.1 -3" rotation="-90 0 0" width="10" height="10" src="#floor-texture" repeat="4 4"></a-plane>
      <a-plane position="0 4 -3" rotation="90 0 0" width="10" height="10" color="#111"></a-plane>
      <a-plane position="0 2 -8" width="10" height="4" color="#222"></a-plane>
      <a-plane position="-5 2 -3" rotation="0 90 0" width="10" height="4" color="#222"></a-plane>
      <a-plane position="5 2 -3" rotation="0 -90 0" width="10" height="4" color="#222"></a-plane>

      <a-box position="0 1 -6" width="3" height="0.1" depth="1.5" color="#000"></a-box>
      
      <a-box position="0 1.6 -6.2" width="1.5" height="0.8" depth="0.05" color="#333"></a-box>
      
      <a-plane 
        link-handler="url: https://www.linkedin.com" 
        position="0 1.6 -6.17" 
        width="1.4" height="0.7" 
        color="#fff" 
        shader="flat">
          <a-text value="CLICK TO\nVIEW PROFILE" color="#333" align="center" width="3"></a-text>
      </a-plane>

      <a-box position="-3.5 1.5 -4" width="2" height="3" depth="1" color="#4A3B2C"></a-box>
      
      <a-light type="ambient" color="#555"></a-light>
      <a-light type="point" color="#00ffff" distance="5" intensity="2" position="0 2 -5.5"></a-light>

      <a-entity id="rig" position="0 1.6 2">
        <a-camera look-controls wasd-controls></a-camera>
      </a-entity>

    </a-scene>
  </body>
</html>